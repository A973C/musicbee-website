#Custom Status Error page
ErrorDocument 404 /error/404.php

#URL rewriter
Options +FollowSymlinks
RewriteEngine On

#do not perform rewrite in the following directory
RewriteRule ^includes - [L,NC]
RewriteRule ^views - [L,NC]
RewriteRule ^forum - [L,NC]
RewriteRule ^sqlbuddy - [L,NC] #only for dev purpose
RewriteRule ^installer - [L,NC] #only for dev purpose

#if the requested file has a .php or .php/ ending then remove it
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\ /([^\ ]+)\.php [OR]
RewriteCond %{THE_REQUEST} ^[A-Z]{3,9}\ /([^\ ]+)\.php/
RewriteRule ^(.*)\.php /$1/ [R=301,L]

#if the requested file is not valid then add a .php extension and look for it and load it
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^([^/]+)/$ $1.php
RewriteCond %{REQUEST_URI} !(\.[a-zA-Z0-9]{1,5}|/)$
RewriteRule (.*)$ /$1/ [R=301,L]

#if the url have addon in it and have 1 or 2 query then fireup this custom rewrite
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^addons/([\w]+)/(.*?)/$    addons.php?id=$1&title=$2
RewriteRule ^addons/([\w-]+)/$    addons.php?id=$1 [L]




#use gzip compression to load faster
<ifModule mod_gzip.c>
  mod_gzip_on Yes
  mod_gzip_dechunk Yes
  mod_gzip_item_include file .(html?|txt|css|js|php|pl)$
  mod_gzip_item_include handler ^cgi-script$
  mod_gzip_item_include mime ^text/.*
  mod_gzip_item_include mime ^application/x-javascript.*
  mod_gzip_item_exclude mime ^image/.*
  mod_gzip_item_exclude rspheader ^Content-Encoding:.*gzip.*
</ifModule>